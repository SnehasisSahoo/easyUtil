{"ast":null,"code":"var _jsxFileName = \"/Users/snehasis/Documents/MYF/react/easy-util/src/components/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\n\n// let cityName='Delhi';\n// let countryCode='IN';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function HomePage() {\n  _s();\n  //INFO: set greetings\n  let h = new Date().getHours();\n  let greetings = () => {\n    let greet = \"\";\n    if (h < 12) greet = \"Good Morning!\";else if (h >= 12 && h <= 17) greet = \"Good Afternoon!\";else if (h >= 17 && h <= 24) greet = \"Good Evening!\";\n    return greet;\n  };\n\n  //INFO: clock\n  const [time, setTime] = useState(new Date().toLocaleTimeString(\"en-US\"));\n  const updateTime = () => {\n    setTime(new Date().toLocaleTimeString(\"en-US\"));\n  };\n  setInterval(updateTime, 1000);\n\n  //INFO: get lat long\n  const [lat, setLat] = useState(\"\");\n  const [lon, setLon] = useState(\"\");\n  const locSucess = pos => {\n    setLat(pos.coords.latitude);\n    setLon(pos.coords.longitude);\n    // console.log(pos);\n  };\n\n  let locErr = err => {\n    console.warn(`ERROR(${err.code}): ${err.message}`);\n  };\n  const opp = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0\n  };\n  navigator.geolocation.getCurrentPosition(locSucess, locErr, opp);\n\n  //INFO: get loc[cityName countryCode]\n  const [cityName, setCityName] = useState(\"\");\n  const [countryCode, setCountryCode] = useState(\"\");\n  const [cityCountryErr, setCityCountryErr] = useState(\"\");\n  const bdcApi = `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}`;\n  const getCityCountry = async () => {\n    try {\n      const res = await axios.get(bdcApi);\n      return res.data;\n      // console.log(res.data);\n    } catch (e) {\n      setCityCountryErr(e.message);\n      console.log(cityCountryErr);\n    }\n  };\n\n  //INFO: get weather data\n  const apiKey = \"44f8f3e9badd63673a1dc623c416a439\";\n  // const URL = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`;\n\n  const [weather, setWeather] = useState(\"\");\n  const [weatherErr, setWeatherErr] = useState(\"\");\n  const getWeather = async () => {\n    try {\n      const location = await getCityCountry();\n      setCityName(location.locality);\n      setCountryCode(location.countryCode);\n      const URL = `https://api.openweathermap.org/data/2.5/weather?q=${location.locality},${location.countryCode}&appid=${apiKey}&units=metric`;\n      // const URL = `https://api.openweathermap.org/data/2.5/weather?q=${location.locality},${location.countryCode}&appid=${apiKey}&units=metric`;\n\n      const res = await axios.get(URL);\n      setWeather(res.data);\n      console.log(res.data);\n    } catch (e) {\n      setWeatherErr(e.message);\n      console.log(weatherErr);\n    }\n  };\n  useEffect(() => {\n    getWeather();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [h]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      tab: \"home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-alng\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"greet\",\n        children: greetings()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: `[  ${time}  ]`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"city\",\n          children: [\"Weather in \", cityName, \", \", countryCode]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), weather.main !== undefined && /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"temp\",\n          children: [weather.main.temp, \"\\xB0C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [weather.weather !== undefined && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://openweathermap.org/img/wn/${weather.weather[0].icon}.png`,\n            alt: \"\",\n            className: \"icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), weather.weather !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description\",\n            children: weather.weather[0].description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), weather.main !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"extra\",\n          children: [\"Humidity: \", weather.main.humidity, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), weather.wind !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"extra\",\n          children: [\"Wind speed: \", weather.wind.speed, \" km/h\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(HomePage, \"m1WWCXMusAn4SJ7ePct0i4qeu6Y=\");\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","NavBar","axios","HomePage","h","Date","getHours","greetings","greet","time","setTime","toLocaleTimeString","updateTime","setInterval","lat","setLat","lon","setLon","locSucess","pos","coords","latitude","longitude","locErr","err","console","warn","code","message","opp","enableHighAccuracy","timeout","maximumAge","navigator","geolocation","getCurrentPosition","cityName","setCityName","countryCode","setCountryCode","cityCountryErr","setCityCountryErr","bdcApi","getCityCountry","res","get","data","e","log","apiKey","weather","setWeather","weatherErr","setWeatherErr","getWeather","location","locality","URL","main","undefined","temp","icon","description","humidity","wind","speed"],"sources":["/Users/snehasis/Documents/MYF/react/easy-util/src/components/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\n\n// let cityName='Delhi';\n// let countryCode='IN';\n\nexport default function HomePage() {\n  //INFO: set greetings\n  let h = new Date().getHours();\n  let greetings = () => {\n    let greet = \"\";\n    if (h < 12) greet = \"Good Morning!\";\n    else if (h >= 12 && h <= 17) greet = \"Good Afternoon!\";\n    else if (h >= 17 && h <= 24) greet = \"Good Evening!\";\n    return greet;\n  };\n\n  //INFO: clock\n  const [time, setTime] = useState(new Date().toLocaleTimeString(\"en-US\"));\n  const updateTime = () => {\n    setTime(new Date().toLocaleTimeString(\"en-US\"));\n  };\n  setInterval(updateTime, 1000);\n\n  //INFO: get lat long\n  const [lat, setLat] = useState(\"\");\n  const [lon, setLon] = useState(\"\");\n\n  const locSucess = (pos) => {\n    setLat(pos.coords.latitude);\n    setLon(pos.coords.longitude);\n    // console.log(pos);\n  };\n\n  let locErr = (err) => {\n    console.warn(`ERROR(${err.code}): ${err.message}`);\n  };\n\n  const opp = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0,\n  };\n  navigator.geolocation.getCurrentPosition(locSucess, locErr, opp);\n\n  //INFO: get loc[cityName countryCode]\n  const [cityName, setCityName] = useState(\"\");\n  const [countryCode, setCountryCode] = useState(\"\");\n  const [cityCountryErr, setCityCountryErr] = useState(\"\");\n\n  const bdcApi = `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}`;\n  const getCityCountry = async () => {\n    try {\n      const res = await axios.get(bdcApi);\n      return res.data;\n      // console.log(res.data);\n    } catch (e) {\n      setCityCountryErr(e.message);\n      console.log(cityCountryErr);\n    }\n  };\n\n  //INFO: get weather data\n  const apiKey = \"44f8f3e9badd63673a1dc623c416a439\";\n  // const URL = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`;\n\n  const [weather, setWeather] = useState(\"\");\n  const [weatherErr, setWeatherErr] = useState(\"\");\n\n  const getWeather = async () => {\n    try {\n      const location = await getCityCountry();\n      setCityName(location.locality);\n      setCountryCode(location.countryCode);\n      const URL = `https://api.openweathermap.org/data/2.5/weather?q=${location.locality},${location.countryCode}&appid=${apiKey}&units=metric`;\n      // const URL = `https://api.openweathermap.org/data/2.5/weather?q=${location.locality},${location.countryCode}&appid=${apiKey}&units=metric`;\n\n      const res = await axios.get(URL);\n      setWeather(res.data);\n      console.log(res.data);\n    } catch (e) {\n      setWeatherErr(e.message);\n      console.log(weatherErr);\n    }\n  };\n\n  useEffect(() => {\n    getWeather();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [h]);\n\n\n  return (\n    <>\n      <NavBar tab=\"home\" />\n      <div className=\"center-alng\">\n        <h1 className=\"greet\">{greetings()}</h1>\n        <h3>{`[  ${time}  ]`}</h3>\n        <div className=\"card\">\n          <h2 className=\"city\">\n            Weather in {cityName}, {countryCode}\n          </h2>\n          {weather.main !== undefined && (\n            <h1 className=\"temp\">{weather.main.temp}Â°C</h1>\n          )}\n          <div className=\"flex\">\n            {weather.weather !== undefined && (\n              <img\n                src={`https://openweathermap.org/img/wn/${weather.weather[0].icon}.png`}\n                alt=\"\"\n                className=\"icon\"\n              />\n            )}\n            {weather.weather !== undefined && (\n              <div className=\"description\">\n                {weather.weather[0].description}\n              </div>\n            )}\n          </div>\n          {weather.main !== undefined && (\n            <div className=\"extra\">Humidity: {weather.main.humidity}%</div>\n          )}\n          {weather.wind !== undefined && (\n            <div className=\"extra\">Wind speed: {weather.wind.speed} km/h</div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}